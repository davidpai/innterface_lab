<!DOCTYPE html><html><head><title>innterface - mobile application design patterns library and user interface (UI) search engine</title><base href="<?php echo base_url(); ?>" /><meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><!-- to force IE8 to use latest standard --><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="innterface is a search platform which can give you inspiration and example of user interface (UI) design patterns for mobile application like iPhone and iPad." /><meta name="keywords" content="user interface,UI, mobile applications,app,apps,design patterns,screenshot" /><meta name="Copyright" content="Copyright © 2013 SayMac All rights reserved." /><link rel="shortcut icon" href="img/favicon.ico" /><!--[if lt IE 9]><script type="text/javascript" src="js/html5shiv.js"></script><![endif]--><link type="text/css" href="css/bootstrap.min.css" rel="stylesheet" media="screen"><link type="text/css" href="js/fuelux/css/fuelux.min.css" rel="stylesheet"><style type="text/css">html, body {    width: 100%;    height: 100%;}#func_bar {    margin-bottom: 10px;}div.login_block {    position: absolute;    top: 0;    right: 0;    margin: 10px;}#word_table th {    width: 10%;    white-space: nowrap;}#word_table td {    width: 90%;}#synonym_table td div.input-append {    margin-bottom: 0;}input[type="text"], select {    margin-bottom: 0;}td.modify_time {    word-break: nowrap;}</style><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script><script type="text/javascript" src="js/bootstrap.min.js"></script><script type="text/javascript" src="js/fuelux/loader.min.js"></script><script type="text/javascript">$(document).ready(function(){    // 填入word之後複製到display_name    $('#form_word').blur(function(e){        var synonym_word = $.trim($(this).val());        var $display_name = $('#form_display_name');        if ( synonym_word != '' ) {            $display_name.val(synonym_word);        }    });    // 新增    $('#add_form').submit(function(e){        e.preventDefault();        e.stopPropagation();        var url = $(this).attr('action');        var synonym_word = $.trim($('#form_word').val());        if ( synonym_word != '' ) {            var data = {                word_id : $.trim($('#word_id').val()),                 synonym_word : synonym_word,                 language : $.trim($('#form_language').val()),                 profession : $.trim($('#form_profession').val()),                 display_name : $.trim($('#form_display_name').val()),                 display_status : $.trim($('#form_display_status').val())            };            //console.log(data);            $.post(url, data, function(res){                if ( res.error == 0 ) {                    location.reload();                } else {                    if ( res.msg ) {                        alert(res.msg);                    } else {                        alert('Sorry, system get some problem, please reload page or restart your browser.');                    }                    console.log(res);                }            }, 'json');        }        return false;    });        // 刪除    $('a.delete').click(function(e){        e.preventDefault();        e.stopPropagation();        var word_id = $(this).attr('data-word-id');        var synonym_word_id = $(this).attr('data-synonym-word-id');        var text = 'Are you sure to remove its relation?';        var data = {            word_id : word_id,             synonym_word_id : synonym_word_id        };        if ( confirm(text) ) {            $.post('<?php echo site_url('synonym_mng/ajaxDeleteSynonym'); ?>', data, function(res){                if ( res.error == 0 ) {                    location.reload();                } else {                    if ( res.msg ) {                        alert(res.msg);                    } else {                        alert('Sorry, system get some problem, please reload page or restart your browser.');                    }                    console.log(res);                }            }, 'json');        }    });        // 編輯    var data_holder = {        synonym : ''    };    var click_edit = function(e){        if ( $(this).hasClass('save') ) {            return false;        }        e.preventDefault();        e.stopPropagation();                var tr = $(this).parent('td').parent('tr');        var td_synonym = tr.find('td.synonym');                var synonym = td_synonym.text();                data_holder.synonym = synonym;                td_synonym.text('');                $('<input>').attr('type','text').addClass('input-large').val(synonym).appendTo(td_synonym);                $(this).off('click').removeClass('edit').addClass('save').text('Save');        $(this).on('click', click_save);    };    var click_save = function(e){        if ( $(this).hasClass('edit') ) {            return false;        }        e.preventDefault();        e.stopPropagation();                $(this).text('Saving..');        var tr = $(this).parent('td').parent('tr');        var td_id = tr.find('td.id');        var td_synonym = tr.find('td.synonym');        var td_modify_time = tr.find('td.modify_time');                var data = {             id : parseInt(td_id.text().replace('#',''),10),             synonym : $.trim(td_synonym.find('input').val())        };                var error_occur = false;        var $this = $(this);        $.post('<?php echo site_url('synonym_mng/ajaxEditSynonym'); ?>', data, function(res){            if ( res.error == 0 ) {            } else {                if ( res.msg ) {                    error_occur = true;                    alert(res.msg);                } else {                    alert('Sorry, system get some problem, please reload page or restart your browser.');                }                console.log(res);            }                        if ( error_occur ) {                td_synonym.html('').text(data_holder.synonym);            } else {                td_synonym.html('').text(data.synonym);                var dt = new Date();                var Y = dt.getFullYear();                var m = dt.getMonth()+1;                var d = dt.getDate();                var H = dt.getHours();                var i = dt.getMinutes();                var s = dt.getSeconds();                m = (parseInt(m,10) < 10) ? '0'+m : m;                d = (parseInt(d,10) < 10) ? '0'+d : d;                H = (parseInt(H,10) < 10) ? '0'+H : H;                i = (parseInt(i,10) < 10) ? '0'+i : i;                s = (parseInt(s,10) < 10) ? '0'+s : s;                var modify_time = Y + '-' + m + '-' + d + ' ' + H + ':' + i + ':' + s;                td_modify_time.html('').text(modify_time);            }                        $this.off('click').removeClass('save').addClass('edit').text('Edit');            $this.on('click', click_edit);        }, 'json');    };    $('a.edit').click(click_edit);        // combobox    $('.dropdown-toggle').dropdown();    $('.combobox').each(function(){        var $input = $(this).find('input');        var $dropdown_list = $(this).find('ul li a');        $dropdown_list.on('click', function(){            $input.val($(this).text());        });    });        // split    $('.split').click(function(e){        e.preventDefault();        e.stopPropagation();        var url = $(this).attr('href');        if ( !window.parent.is_split ) {            window.parent.add_right_iframe(url);            window.parent.open_split();        } else {            window.parent.add_right_iframe(url);        }    });        $('#return').click(function(e){        e.preventDefault();        e.stopPropagation();        if ( window.parent.is_split ) {            window.parent.close_split();            window.parent.remove_right_iframe();        } else {            //console.log(window.parent.history);            window.parent.history.go(-1);        }    });        $(document).ajaxError(function(event, request, settings, exception) {        alert('Sorry, system get some problem, please reload page or restart your browser.');        console.log(settings);    });});</script></head><body><div class="container-fluid">    <div class="row-fluid">        <div class="span1"></div>        <div class="span10"><!--<div class="login_block"><a href="<?php echo site_url('synonym_mng/logout'); ?>">[Logout]</a></div>--><h3>Synonym List</h3><div id="func_bar"><a id="return" class="btn btn-small" href="javascript:void();"><i class="icon-arrow-left"></i></a></div><h4>Word</h4><table id="word_table" class="table table-striped table-bordered table-hover table-condensed">    <tr>        <th>#ID</th>        <td>#<?php echo htmlspecialchars($word->id); ?></td>    </tr>    <tr>        <th>Word</th>        <td><strong class="text-error"><?php echo htmlspecialchars($word->word); ?></strong></td>    </tr>    <tr>        <th>Language</th>        <td><?php echo htmlspecialchars($word->language); ?></td>    </tr>    <tr>        <th>Profession</th>        <td><?php echo htmlspecialchars($word->profession); ?></td>    </tr>    <tr>        <th>Display Name</th>        <td><?php echo htmlspecialchars($word->display_name); ?></td>    </tr>    <tr>        <th>Display?</th>        <td>        <?php if ($word->display_status) : ?>            <span class="badge badge-success">Y</span>        <?php else : ?>            <span class="badge">N</span>        <?php endif; ?>        </td>    </tr>    <tr>        <th>Modify Time</th>        <td><?php echo htmlspecialchars($word->modify_time); ?></td>    </tr></table><h4>Synonym<?php if ( $q->num_rows() > 0 ) : ?>    <span class="label label-info"><?php echo $q->num_rows(); ?></span><?php else : ?>    <span class="label"><?php echo $q->num_rows(); ?></span><?php endif; ?></h4><table id="synonym_table" class="table table-striped table-bordered table-hover table-condensed">    <thead>    <tr>        <th nowrap="nowrap">#ID</th>        <th nowrap="nowrap">Word</th>        <th nowrap="nowrap">Language</th>        <th nowrap="nowrap">Profession</th>        <th nowrap="nowrap">Display Name</th>        <th nowrap="nowrap">Display?</th>        <th nowrap="nowrap">Modify Time</th>        <th nowrap="nowrap"></th>    </tr>    </thead>    <tbody>    <tr>        <td width="5%">            <form id="add_form" method="post" action="<?php echo site_url('synonym_mng/add_synonym'); ?>">            <input id="word_id" type="hidden" name="word_id" value="<?php echo htmlspecialchars($word->id); ?>" />        </td>        <td width="10%"><input id="form_word" class="input-small" type="text" name="word" value="" /></td>        <td width="5%">            <div class="input-append btn-group combobox">                <input type="text" class="input-mini" id="form_language" name="language" value="en-US" />                <button class="btn dropdown-toggle" data-toggle="dropdown">                    <span class="caret"></span>                </button>                <ul class="dropdown-menu"><?php foreach ( $language_list as $language ) : ?>                    <li><a href="javascript:void(0)"><?php echo htmlspecialchars($language); ?></a></li><?php endforeach; ?>                </ul>            </div>        </td>        <td width="10%">            <div class="input-append btn-group combobox">                <input type="text" class="input-small" id="form_profession" name="profession" value="" />                <button class="btn dropdown-toggle" data-toggle="dropdown">                    <span class="caret"></span>                </button>                <ul class="dropdown-menu"><?php foreach ( $profession_list as $profession ) : ?>                    <li><a href="javascript:void(0)"><?php echo htmlspecialchars($profession); ?></a></li><?php endforeach; ?>                </ul>            </div>        </td>        <td width="10%"><input id="form_display_name" class="input-small" type="text" name="display_name" value="" /></td>        <td width="5%">            <select id="form_display_status" name="display_status" class="input-small">                <option value=""></option>                <option value="1">Yes</option>                <option value="0" selected="selected">No</option>            </select>        </td>        <td width="18%"></td>        <td nowrap="nowrap">            <button class="btn btn-small btn-primary" type="submit" value="Add" />Add</button>            </form>        </td>    </tr><?php foreach ( $q->result() as $synonym ) : ?>    <tr>        <td class="id">#<?php echo htmlspecialchars($synonym->id); ?></td>        <td class="synonym"><?php echo htmlspecialchars($synonym->word); ?></td>        <td class="language"><?php echo htmlspecialchars($synonym->language); ?></td>        <td class="profession"><?php echo htmlspecialchars($synonym->profession); ?></td>        <td class="display_name"><?php echo htmlspecialchars($synonym->display_name); ?></td>        <td class="display_status" data-value="<?php echo htmlspecialchars($synonym->display_status); ?>">            <?php if ($synonym->display_status) : ?>                <span class="badge badge-success">Y</span>            <?php else : ?>                <span class="badge">N</span>            <?php endif; ?>        </td>        <td class="modify_time"><?php echo htmlspecialchars($synonym->modify_time); ?></td>        <td>            <a class="btn btn-small split" href="<?php echo site_url('synonym_mng/synonym_list'); ?>?word_id=<?php echo urlencode($synonym->id); ?>">Split</a>            <a class="btn btn-small btn-danger delete" data-synonym-word-id="<?php echo htmlspecialchars($synonym->id); ?>" data-word-id="<?php echo htmlspecialchars($word->id); ?>" href="javascript:void(0)">Remove</a>        </td>    </tr><?php endforeach; ?>    </tbody></table>        </div>        <div class="span1"></div>    </div></div></body></html>